<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Record Management System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --primary: #6c5ce7;
            --secondary: #a29bfe;
            --accent: #fd79a8;
            --light: #f8f9fa;
            --dark: #343a40;
            --success: #00b894;
            --info: #0984e3;
            --warning: #fdcb6e;
            --danger: #d63031;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f6fa;
            color: var(--dark);
            transition: all 0.3s ease;
        }

        /* Login Page */
        .login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: linear-gradient(135deg, var(--primary), var(--info));
            animation: gradientBG 15s ease infinite;
            background-size: 400% 400%;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .login-box {
            background-color: white;
            padding: 2.5rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            width: 400px;
            text-align: center;
            transform: translateY(0);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            animation: fadeIn 0.8s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .login-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.25);
        }

        .login-box h1 {
            color: var(--primary);
            margin-bottom: 1.5rem;
            font-size: 2rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--dark);
            font-weight: 600;
        }

        .form-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-group input:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(108, 92, 231, 0.2);
        }

        .password-recovery {
            display: block;
            text-align: right;
            margin-top: -0.5rem;
            margin-bottom: 1.5rem;
            color: var(--info);
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.3s ease;
        }

        .password-recovery:hover {
            color: var(--primary);
            text-decoration: underline;
        }

        .login-btn {
            width: 100%;
            padding: 12px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .login-btn:hover {
            background-color: #5a4bd1;
            transform: translateY(-2px);
            box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);
        }

        .login-btn:active {
            transform: translateY(0);
        }

        /* Dashboard */
        .dashboard-container {
            display: flex;
            min-height: 100vh;
        }

        .sidebar {
            width: 250px;
            background: linear-gradient(to bottom, var(--primary), var(--secondary));
            color: white;
            padding: 1.5rem 0;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            position: fixed;
            height: 100vh;
            z-index: 100;
        }

        .sidebar-header {
            padding: 0 1.5rem 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 1rem;
        }

        .sidebar-header h2 {
            font-size: 1.3rem;
            font-weight: 700;
            display: flex;
            align-items: center;
        }

        .sidebar-header h2::before {
            content: "ðŸŽ“";
            margin-right: 10px;
        }

        .sidebar-menu {
            list-style: none;
        }

        .sidebar-menu li {
            margin-bottom: 5px;
        }

        .sidebar-menu a {
            display: flex;
            align-items: center;
            padding: 12px 1.5rem;
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .sidebar-menu a::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 4px;
            height: 100%;
            background-color: white;
            transform: scaleY(0);
            transition: transform 0.3s ease;
            transform-origin: bottom;
        }

        .sidebar-menu a:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .sidebar-menu a:hover::before {
            transform: scaleY(1);
        }

        .sidebar-menu a.active {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .sidebar-menu a.active::before {
            transform: scaleY(1);
        }

        .sidebar-menu i {
            margin-right: 10px;
            font-size: 1.1rem;
        }

        .main-content {
            flex: 1;
            margin-left: 250px;
            padding: 2rem;
            background-color: #f5f7fa;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #e0e0e0;
        }

        .header h2 {
            color: var(--primary);
            font-size: 1.8rem;
            display: flex;
            align-items: center;
        }

        .header h2::before {
            content: "ðŸ‘‹";
            margin-right: 10px;
        }

        .user-info {
            display: flex;
            align-items: center;
        }

        .user-info img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
            object-fit: cover;
            border: 2px solid var(--primary);
        }

        .welcome-section {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .welcome-section h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background-color: white;
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            text-align: center;
            border-top: 4px solid var(--primary);
            animation: fadeInUp 0.6s ease;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .stat-card h3 {
            color: var(--dark);
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .stat-card .number {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .stat-card .label {
            color: #666;
            font-size: 0.9rem;
        }

        .view-details-btn {
            display: inline-block;
            margin-top: 1rem;
            padding: 8px 15px;
            background-color: var(--primary);
            color: white;
            border-radius: 5px;
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .view-details-btn:hover {
            background-color: #5a4bd1;
            transform: translateY(-2px);
        }

        /* Add Course/Subject Forms */
        .form-container {
            background-color: white;
            border-radius: 10px;
            padding: 2rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 2rem;
            animation: fadeIn 0.6s ease;
        }

        .form-container h3 {
            color: var(--primary);
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #f0f0f0;
        }

        .form-row {
            display: flex;
            flex-wrap: wrap;
            margin: 0 -1rem;
        }

        .form-col {
            flex: 1;
            min-width: 250px;
            padding: 0 1rem;
            margin-bottom: 1.5rem;
        }

        .form-group-dashboard label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--dark);
            font-weight: 600;
        }

        .form-group-dashboard input,
        .form-group-dashboard select,
        .form-group-dashboard textarea {
            width: 100%;
            padding: 10px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-group-dashboard input:focus,
        .form-group-dashboard select:focus,
        .form-group-dashboard textarea:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(108, 92, 231, 0.2);
        }

        .submit-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 12px 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .submit-btn:hover {
            background-color: #5a4bd1;
            transform: translateY(-2px);
            box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);
        }

        /* Register Students Form */
        .register-form {
            background-color: white;
            border-radius: 10px;
            padding: 2rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            animation: fadeIn 0.6s ease;
        }

        .section-title {
            color: var(--primary);
            margin: 1.5rem 0 1rem;
            font-size: 1.3rem;
            position: relative;
            padding-left: 15px;
        }

        .section-title::before {
            content: '';
            position: absolute;
            left: 0;
            top: 5px;
            height: 20px;
            width: 5px;
            background-color: var(--primary);
            border-radius: 3px;
        }

        /* Admin Profile Styles */
        .profile-container {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            animation: fadeIn 0.6s ease;
        }

        .profile-header {
            display: flex;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            animation: slideInLeft 0.5s ease;
        }

        .profile-image {
            position: relative;
            margin-right: 2rem;
        }

        .profile-image img {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            object-fit: cover;
            border: 5px solid var(--primary);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }

        .profile-image img:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .upload-btn {
            background: var(--primary);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-block;
            margin-top: 10px;
        }

        .upload-btn:hover {
            background: #5a4bd1;
            transform: translateY(-2px);
        }

        .profile-info h4 {
            font-size: 1.5rem;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .profile-info p {
            margin-bottom: 0.3rem;
            color: #555;
        }

        .profile-info p#adminRole {
            background: var(--primary);
            color: white;
            display: inline-block;
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
        }

        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .cancel-btn {
            background: #f8f9fa;
            color: var(--dark);
            border: 1px solid #ddd;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .cancel-btn:hover {
            background: #e9ecef;
        }

        @keyframes slideInLeft {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        /* Table Styles */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1.5rem;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background-color: var(--primary);
            color: white;
        }

        tr:hover {
            background-color: #f5f5f5;
        }

        .view-btn {
            background-color: var(--info);
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 5px;
        }

        .edit-btn {
            background-color: var(--warning);
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 5px;
        }

        .delete-btn {
            background-color: var(--danger);
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
        }

        /* Notification Styles */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 5px;
            color: white;
            display: flex;
            align-items: center;
            justify-content: space-between;
            min-width: 250px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            animation: slideIn 0.3s ease-out;
        }

        .notification.success {
            background-color: var(--success);
        }

        .notification.info {
            background-color: var(--info);
        }

        .notification.warning {
            background-color: var(--warning);
        }

        .notification.danger {
            background-color: var(--danger);
        }

        .notification button {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            margin-left: 15px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                width: 70px;
                overflow: hidden;
            }

            .sidebar-header h2 span,
            .sidebar-menu a span {
                display: none;
            }

            .sidebar-menu a {
                justify-content: center;
                padding: 12px 0;
            }

            .sidebar-menu i {
                margin-right: 0;
                font-size: 1.3rem;
            }

            .main-content {
                margin-left: 70px;
            }

            .stats-container {
                grid-template-columns: 1fr;
            }

            .profile-header {
                flex-direction: column;
                text-align: center;
            }

            .profile-image {
                margin-right: 0;
                margin-bottom: 1rem;
            }
        }

        @media (max-width: 576px) {
            .login-box {
                width: 90%;
                padding: 1.5rem;
            }

            .form-row {
                flex-direction: column;
            }

            .form-col {
                padding: 0;
            }
        }
    </style>
</head>
<body>
    <!-- Login Page -->
    <div id="loginPage" class="login-container">
        <div class="login-box">
            <h1>Student Record Management System</h1>
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginId">Login Id</label>
                    <input type="text" id="loginId" placeholder="Enter your login id" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" placeholder="Enter your password" required>
                </div>
                <a href="#" class="password-recovery">Password Recovery</a>
                <button type="submit" class="login-btn">Login</button>
            </form>
        </div>
    </div>

    <!-- Dashboard -->
    <div id="dashboard" class="dashboard-container" style="display: none;">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h2><span>Student Management</span></h2>
            </div>
            <ul class="sidebar-menu">
                <li><a href="#" class="active" onclick="showSection('dashboard-section')"><i class="fas fa-tachometer-alt"></i> <span>Dashboard</span></a></li>
                <li><a href="#" onclick="showSection('course-section')"><i class="fas fa-book"></i> <span>Course</span></a></li>
                <li><a href="#" onclick="showSection('subject-section')"><i class="fas fa-book-open"></i> <span>Subject</span></a></li>
                <li><a href="#" onclick="showSection('register-section')"><i class="fas fa-user-plus"></i> <span>Register</span></a></li>
                <li><a href="#" onclick="showSection('view-students-section')"><i class="fas fa-users"></i> <span>View Students</span></a></li>
                <li><a href="#" onclick="showSection('change-password-section')"><i class="fas fa-key"></i> <span>Change Password</span></a></li>
                <li><a href="#" onclick="showSection('profile-section')"><i class="fas fa-user-cog"></i> <span>Admin Profile</span></a></li>
                <li><a href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i> <span>Logout</span></a></li>
            </ul>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Header -->
            <div class="header">
                <h2>WELCOME ADMIN</h2>
                <div class="user-info">
                    <img id="headerAdminImage" src="https://ui-avatars.com/api/?name=Admin&background=6c5ce7&color=fff" alt="Admin">
                    <span>Admin</span>
                </div>
            </div>

            <!-- Dashboard Section -->
            <div id="dashboard-section" class="dashboard-section">
                <div class="welcome-section">
                    <h3>Welcome to Student Management System</h3>
                    <p>Manage all student records, courses, and subjects in one place.</p>
                </div>

                <div class="stats-container">
                    <div class="stat-card" style="animation-delay: 0.1s;">
                        <div class="number">0</div>
                        <div class="label">Listed Courses</div>
                        <a href="#" class="view-details-btn" onclick="showSection('course-section')">View Details</a>
                    </div>
                    <div class="stat-card" style="animation-delay: 0.2s;">
                        <div class="number">0</div>
                        <div class="label">Courses With Subjects</div>
                        <a href="#" class="view-details-btn" onclick="showSection('subject-section')">View Details</a>
                    </div>
                    <div class="stat-card" style="animation-delay: 0.3s;">
                        <div class="number">0</div>
                        <div class="label">Total Students</div>
                        <a href="#" class="view-details-btn" onclick="showSection('view-students-section')">View Details</a>
                    </div>
                </div>
            </div>

            <!-- Add Course Section -->
            <div id="course-section" class="form-container" style="display: none;">
                <h3>Add Course</h3>
                <form id="courseForm">
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group-dashboard">
                                <label for="courseName">Course Name</label>
                                <input type="text" id="courseName" placeholder="Enter course name" required>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group-dashboard">
                                <label for="courseShortName">Course Short Name</label>
                                <input type="text" id="courseShortName" placeholder="Enter short name" required>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="submit-btn">Add Course</button>
                </form>
            </div>

            <!-- Add Subject Section -->
            <div id="subject-section" class="form-container" style="display: none;">
                <h3>Add Subject</h3>
                <form id="subjectForm">
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group-dashboard">
                                <label for="subjectCourse">Course</label>
                                <select id="subjectCourse" required>
                                    <option value="">Select Course</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group-dashboard">
                                <label for="subjectName">Subject Name</label>
                                <input type="text" id="subjectName" placeholder="Enter subject name" required>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="submit-btn">Add Subject</button>
                </form>
            </div>

            <!-- Register Students Section -->
            <div id="register-section" class="register-form" style="display: none;">
                <h3>Register Students</h3>
                
                <div class="form-row">
                    <div class="form-col">
                        <h4 class="section-title">Basic Information</h4>
                        <div class="form-group-dashboard">
                            <label for="firstName">First Name</label>
                            <input type="text" id="firstName" placeholder="Enter first name" required>
                        </div>
                        <div class="form-group-dashboard">
                            <label for="lastName">Last Name</label>
                            <input type="text" id="lastName" placeholder="Enter last name" required>
                        </div>
                        <div class="form-group-dashboard">
                            <label for="guardianName">Guardian Name</label>
                            <input type="text" id="guardianName" placeholder="Enter guardian name" required>
                        </div>
                        <div class="form-group-dashboard">
                            <label for="familyIncome">Family Income</label>
                            <input type="number" id="familyIncome" placeholder="Enter family income">
                        </div>
                    </div>
                    
                    <div class="form-col">
                        <h4 class="section-title">Academic Information</h4>
                        <div class="form-group-dashboard">
                            <label for="course">Course</label>
                            <select id="course" required>
                                <option value="">Select Course</option>
                            </select>
                        </div>
                        <div class="form-group-dashboard">
                            <label for="rollNo">Roll No.</label>
                            <input type="text" id="rollNo" placeholder="Enter roll number" required>
                        </div>
                        <div class="form-group-dashboard">
                            <label for="year">Year Of Training</label>
                            <input type="number" id="year" placeholder="Enter year" min="1" max="5">
                        </div>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-col">
                        <h4 class="section-title">Contact Information</h4>
                        <div class="form-group-dashboard">
                            <label for="country">Country</label>
                            <select id="country" required>
                                <option value="">Select Country</option>
                                <option value="US">United States</option>
                                <option value="UK">United Kingdom</option>
                                <option value="IN">India</option>
                                <option value="CA">Canada</option>
                            </select>
                        </div>
                        <div class="form-group-dashboard">
                            <label for="city">City</label>
                            <input type="text" id="city" placeholder="Enter city" required>
                        </div>
                        <div class="form-group-dashboard">
                            <label for="address">Correspondence Address</label>
                            <textarea id="address" rows="3" placeholder="Enter address" required></textarea>
                        </div>
                    </div>
                    
                    <div class="form-col">
                        <h4 class="section-title">Subjects</h4>
                        <div class="form-group-dashboard">
                            <label>Select Subjects</label>
                            <div style="background: #f8f9fa; padding: 10px; border-radius: 8px;" id="subjectCheckboxes">
                                <!-- Subjects will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <button type="button" class="submit-btn" style="margin-top: 1.5rem;" id="registerStudentBtn">Register Student</button>
            </div>

            <!-- View Students Section -->
            <div id="view-students-section" class="form-container" style="display: none;">
                <h3>View Students</h3>
                <div style="overflow-x: auto;">
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Full Name</th>
                                <th>Course</th>
                                <th>Roll No.</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="studentsTableBody">
                            <!-- Students will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Change Password Section -->
            <div id="change-password-section" class="form-container" style="display: none;">
                <h3>Change Password</h3>
                <form id="changePasswordForm">
                    <div class="form-group-dashboard">
                        <label for="currentPassword">Current Password</label>
                        <input type="password" id="currentPassword" placeholder="Enter current password" required>
                    </div>
                    <div class="form-group-dashboard">
                        <label for="newPassword">New Password</label>
                        <input type="password" id="newPassword" placeholder="Enter new password" required>
                    </div>
                    <div class="form-group-dashboard">
                        <label for="confirmPassword">Confirm New Password</label>
                        <input type="password" id="confirmPassword" placeholder="Confirm new password" required>
                    </div>
                    <button type="submit" class="submit-btn">Change Password</button>
                </form>
            </div>

            <!-- Admin Profile Section -->
            <div id="profile-section" class="form-container" style="display: none;">
                <h3>Admin Profile</h3>
                
                <div class="profile-container">
                    <div class="profile-header">
                        <div class="profile-image">
                            <img src="https://ui-avatars.com/api/?name=Admin&background=6c5ce7&color=fff" alt="Admin" id="adminProfileImage">
                            <div class="image-upload">
                                <label for="profileImageUpload" class="upload-btn">
                                    <i class="fas fa-camera"></i> Change Photo
                                </label>
                                <input type="file" id="profileImageUpload" accept="image/*" style="display: none;">
                            </div>
                        </div>
                        <div class="profile-info">
                            <h4 id="adminName">Admin User</h4>
                            <p id="adminEmail">admin@schoolsystem.com</p>
                            <p id="adminRole">Super Administrator</p>
                            <p id="adminSince">Member since: January 2023</p>
                        </div>
                    </div>
            
                    <div class="profile-form">
                        <form id="adminProfileForm">
                            <div class="form-row">
                                <div class="form-col">
                                    <div class="form-group-dashboard">
                                        <label for="adminFirstName">First Name</label>
                                        <input type="text" id="adminFirstName" value="Admin" required>
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group-dashboard">
                                        <label for="adminLastName">Last Name</label>
                                        <input type="text" id="adminLastName" value="User" required>
                                    </div>
                                </div>
                            </div>
            
                            <div class="form-group-dashboard">
                                <label for="adminEmailInput">Email Address</label>
                                <input type="email" id="adminEmailInput" value="admin@schoolsystem.com" required>
                            </div>
            
                            <div class="form-group-dashboard">
                                <label for="adminPhone">Phone Number</label>
                                <input type="tel" id="adminPhone" value="+1 (555) 123-4567">
                            </div>
            
                            <div class="form-group-dashboard">
                                <label for="adminAddress">Address</label>
                                <textarea id="adminAddress" rows="3">123 Admin Street, Admin City, 10001</textarea>
                            </div>
            
                            <div class="form-row">
                                <div class="form-col">
                                    <div class="form-group-dashboard">
                                        <label for="adminCountry">Country</label>
                                        <select id="adminCountry" required>
                                            <option value="US" selected>United States</option>
                                            <option value="UK">United Kingdom</option>
                                            <option value="IN">India</option>
                                            <option value="CA">Canada</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group-dashboard">
                                        <label for="adminCity">City</label>
                                        <input type="text" id="adminCity" value="New York" required>
                                    </div>
                                </div>
                            </div>
            
                            <div class="form-actions">
                                <button type="button" class="cancel-btn" onclick="resetProfileForm()">Cancel</button>
                                <button type="submit" class="submit-btn">Save Changes</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Admin credentials
        const ADMIN_CREDENTIALS = {
            username: "admin",
            password: "admin123"
        };

        // DOM Elements
        const loginPage = document.getElementById('loginPage');
        const dashboard = document.getElementById('dashboard');
        const loginForm = document.getElementById('loginForm');
        const courseForm = document.getElementById('courseForm');
        const subjectForm = document.getElementById('subjectForm');
        const registerStudentBtn = document.getElementById('registerStudentBtn');
        const changePasswordForm = document.getElementById('changePasswordForm');
        const adminProfileForm = document.getElementById('adminProfileForm');
        const profileImageUpload = document.getElementById('profileImageUpload');
        const studentsTableBody = document.getElementById('studentsTableBody');
        const subjectCheckboxes = document.getElementById('subjectCheckboxes');
        const courseDropdown = document.getElementById('course');
        const subjectCourseDropdown = document.getElementById('subjectCourse');

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Set up event listeners
            setupEventListeners();
            
            // Initialize with login page
            dashboard.style.display = 'none';
        });

        function setupEventListeners() {
            // Login form
            if (loginForm) {
                loginForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const username = document.getElementById('loginId').value;
                    const password = document.getElementById('password').value;
                    
                    if (username === ADMIN_CREDENTIALS.username && password === ADMIN_CREDENTIALS.password) {
                        // Show loading animation
                        const loginBtn = document.querySelector('.login-btn');
                        loginBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Logging in...';
                        loginBtn.disabled = true;
                        
                        setTimeout(() => {
                            loginPage.style.display = 'none';
                            dashboard.style.display = 'flex';
                            loginBtn.innerHTML = 'Login';
                            loginBtn.disabled = false;
                            loginForm.reset();
                            showSection('dashboard-section');
                            onLoginSuccess();
                        }, 1500);
                    } else {
                        showNotification('Invalid credentials!', 'danger');
                    }
                });
            }

            // Course form
            if (courseForm) {
                courseForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const course = {
                        id: Date.now().toString(),
                        name: document.getElementById('courseName').value,
                        shortName: document.getElementById('courseShortName').value
                    };
                    
                    saveCourse(course);
                    showNotification('Course added successfully!', 'success');
                    courseForm.reset();
                    updateCourseDropdowns();
                    updateCourseStats();
                });
            }

            // Subject form
            if (subjectForm) {
                subjectForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const courseId = document.getElementById('subjectCourse').value;
                    const course = getCourseById(courseId);
                    
                    if (!course) {
                        showNotification('Please select a valid course!', 'danger');
                        return;
                    }
                    
                    const subject = {
                        id: Date.now().toString(),
                        courseId: courseId,
                        name: document.getElementById('subjectName').value,
                        courseName: course.name
                    };
                    
                    saveSubject(subject);
                    showNotification('Subject added successfully!', 'success');
                    subjectForm.reset();
                    updateSubjectCheckboxes();
                    updateSubjectStats();
                });
            }

            // Register student button
            if (registerStudentBtn) {
                registerStudentBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const studentId = document.querySelector('#register-section').getAttribute('data-student-id');
                    const selectedSubjects = Array.from(document.querySelectorAll('#subjectCheckboxes input[type="checkbox"]:checked'))
                        .map(checkbox => checkbox.value);
                    
                    const student = {
                        id: studentId || Date.now().toString(),
                        firstName: document.getElementById('firstName').value,
                        lastName: document.getElementById('lastName').value,
                        guardianName: document.getElementById('guardianName').value,
                        familyIncome: document.getElementById('familyIncome').value,
                        course: document.getElementById('course').value,
                        rollNo: document.getElementById('rollNo').value,
                        year: document.getElementById('year').value,
                        country: document.getElementById('country').value,
                        city: document.getElementById('city').value,
                        address: document.getElementById('address').value,
                        subjects: selectedSubjects
                    };

                    const students = getStudents();
                    
                    if (studentId) {
                        // Update existing student
                        const index = students.findIndex(s => s.id === studentId);
                        if (index !== -1) {
                            students[index] = student;
                        }
                    } else {
                        // Add new student
                        students.push(student);
                    }
                    
                    localStorage.setItem('students', JSON.stringify(students));
                    showNotification(studentId ? 'Student updated successfully!' : 'Student registered successfully!', 'success');
                    
                    // Reset form
                    document.querySelector('#register-section form').reset();
                    document.querySelector('#register-section').removeAttribute('data-student-id');
                    document.querySelector('#register-section .submit-btn').textContent = 'Register Student';
                    
                    // Update view
                    renderStudentsTable();
                    updateStudentStats();
                });
            }

            // Change password form
            if (changePasswordForm) {
                changePasswordForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const currentPassword = document.getElementById('currentPassword').value;
                    const newPassword = document.getElementById('newPassword').value;
                    const confirmPassword = document.getElementById('confirmPassword').value;
                    
                    if (currentPassword !== ADMIN_CREDENTIALS.password) {
                        showNotification('Current password is incorrect!', 'danger');
                        return;
                    }
                    
                    if (newPassword !== confirmPassword) {
                        showNotification('New passwords do not match!', 'danger');
                        return;
                    }
                    
                    ADMIN_CREDENTIALS.password = newPassword;
                    showNotification('Password changed successfully!', 'success');
                    changePasswordForm.reset();
                });
            }

            // Admin profile form
            if (adminProfileForm) {
                adminProfileForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const adminData = {
                        firstName: document.getElementById('adminFirstName').value,
                        lastName: document.getElementById('adminLastName').value,
                        email: document.getElementById('adminEmailInput').value,
                        phone: document.getElementById('adminPhone').value,
                        address: document.getElementById('adminAddress').value,
                        country: document.getElementById('adminCountry').value,
                        city: document.getElementById('adminCity').value
                    };
                    
                    localStorage.setItem('adminProfile', JSON.stringify(adminData));
                    showNotification('Profile updated successfully!', 'success');
                    
                    // Update displayed info
                    document.getElementById('adminName').textContent = `${adminData.firstName} ${adminData.lastName}`;
                    document.getElementById('adminEmail').textContent = adminData.email;
                    document.getElementById('headerAdminImage').src = document.getElementById('adminProfileImage').src;
                });
            }

            // Profile image upload
            if (profileImageUpload) {
                profileImageUpload.addEventListener('change', function(e) {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = function(event) {
                            document.getElementById('adminProfileImage').src = event.target.result;
                            localStorage.setItem('adminProfileImage', event.target.result);
                            document.getElementById('headerAdminImage').src = event.target.result;
                            showNotification('Profile image updated!', 'success');
                        };
                        reader.readAsDataURL(file);
                    }
                });
            }

            // Course dropdown change for subjects
            if (courseDropdown) {
                courseDropdown.addEventListener('change', function() {
                    updateSubjectCheckboxes();
                });
            }
        }

        // Data management functions
        function getCourses() {
            return JSON.parse(localStorage.getItem('courses')) || [];
        }

        function saveCourse(course) {
            const courses = getCourses();
            courses.push(course);
            localStorage.setItem('courses', JSON.stringify(courses));
        }

        function getCourseById(id) {
            const courses = getCourses();
            return courses.find(course => course.id === id);
        }

        function getSubjects() {
            return JSON.parse(localStorage.getItem('subjects')) || [];
        }

        function saveSubject(subject) {
            const subjects = getSubjects();
            subjects.push(subject);
            localStorage.setItem('subjects', JSON.stringify(subjects));
        }

        function getStudents() {
            return JSON.parse(localStorage.getItem('students')) || [];
        }

        function getSubjectsByCourseId(courseId) {
            const subjects = getSubjects();
            return subjects.filter(subject => subject.courseId === courseId);
        }

        // UI update functions
        function updateCourseDropdowns() {
            const courses = getCourses();
            
            // Update course dropdown in subject form
            if (subjectCourseDropdown) {
                subjectCourseDropdown.innerHTML = '<option value="">Select Course</option>';
                courses.forEach(course => {
                    const option = document.createElement('option');
                    option.value = course.id;
                    option.textContent = course.name;
                    subjectCourseDropdown.appendChild(option);
                });
            }
            
            // Update course dropdown in student registration form
            if (courseDropdown) {
                courseDropdown.innerHTML = '<option value="">Select Course</option>';
                courses.forEach(course => {
                    const option = document.createElement('option');
                    option.value = course.id;
                    option.textContent = course.name;
                    courseDropdown.appendChild(option);
                });
            }
        }

        function updateSubjectCheckboxes() {
            const courseId = courseDropdown.value;
            const subjects = getSubjectsByCourseId(courseId);
            
            subjectCheckboxes.innerHTML = '';
            
            if (subjects.length === 0) {
                subjectCheckboxes.innerHTML = '<p>No subjects available for this course.</p>';
                return;
            }
            
            subjects.forEach(subject => {
                const div = document.createElement('div');
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.id = `subject-${subject.id}`;
                checkbox.name = 'subjects';
                checkbox.value = subject.id;
                
                const label = document.createElement('label');
                label.htmlFor = `subject-${subject.id}`;
                label.textContent = subject.name;
                
                div.appendChild(checkbox);
                div.appendChild(label);
                subjectCheckboxes.appendChild(div);
            });
        }

        function renderStudentsTable() {
            const students = getStudents();
            const courses = getCourses();
            studentsTableBody.innerHTML = '';

            students.forEach(student => {
                const course = courses.find(c => c.id === student.course);
                const courseName = course ? course.name : 'Unknown Course';
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${student.id}</td>
                    <td>${student.firstName} ${student.lastName}</td>
                    <td>${courseName}</td>
                    <td>${student.rollNo}</td>
                    <td>
                        <button class="view-btn" onclick="viewStudent('${student.id}')">View</button>
                        <button class="edit-btn" onclick="editStudent('${student.id}')">Edit</button>
                        <button class="delete-btn" onclick="deleteStudent('${student.id}')">Delete</button>
                    </td>
                `;
                studentsTableBody.appendChild(row);
            });
        }

        function viewStudent(id) {
            const students = getStudents();
            const student = students.find(s => s.id === id);
            
            if (student) {
                const courses = getCourses();
                const course = courses.find(c => c.id === student.course);
                const courseName = course ? course.name : 'Unknown Course';
                
                const subjects = getSubjects();
                const studentSubjects = student.subjects?.map(subId => {
                    const subject = subjects.find(s => s.id === subId);
                    return subject ? subject.name : 'Unknown Subject';
                }) || [];
                
                alert(`Student Details:\n
Name: ${student.firstName} ${student.lastName}
Guardian: ${student.guardianName}
Course: ${courseName}
Roll No: ${student.rollNo}
Year: ${student.year}
Address: ${student.address}, ${student.city}, ${student.country}
Subjects: ${studentSubjects.join(', ')}`);
            }
        }

        function editStudent(id) {
            const students = getStudents();
            const student = students.find(s => s.id === id);
            
            if (student) {
                // Populate form with student data
                document.getElementById('firstName').value = student.firstName;
                document.getElementById('lastName').value = student.lastName;
                document.getElementById('guardianName').value = student.guardianName;
                document.getElementById('familyIncome').value = student.familyIncome;
                document.getElementById('course').value = student.course;
                document.getElementById('rollNo').value = student.rollNo;
                document.getElementById('year').value = student.year;
                document.getElementById('country').value = student.country;
                document.getElementById('city').value = student.city;
                document.getElementById('address').value = student.address;
                
                // Update subjects checkboxes
                updateSubjectCheckboxes();
                
                // Check the student's subjects
                if (student.subjects) {
                    student.subjects.forEach(subId => {
                        const checkbox = document.getElementById(`subject-${subId}`);
                        if (checkbox) {
                            checkbox.checked = true;
                        }
                    });
                }
                
                // Show register section
                showSection('register-section');
                // Change button text
                document.querySelector('#register-section .submit-btn').textContent = 'Update Student';
                // Store student ID in a data attribute
                document.querySelector('#register-section').setAttribute('data-student-id', id);
            }
        }

        function deleteStudent(id) {
            if (confirm('Are you sure you want to delete this student?')) {
                const students = getStudents();
                const updatedStudents = students.filter(s => s.id !== id);
                localStorage.setItem('students', JSON.stringify(updatedStudents));
                renderStudentsTable();
                updateStudentStats();
                showNotification('Student deleted successfully!', 'success');
            }
        }

        // Stats functions
        function updateCourseStats() {
            const courses = getCourses();
            document.querySelector('.stat-card:nth-child(1) .number').textContent = courses.length;
        }

        function updateSubjectStats() {
            const subjects = getSubjects();
            const uniqueCourses = new Set(subjects.map(subject => subject.courseId));
            document.querySelector('.stat-card:nth-child(2) .number').textContent = uniqueCourses.size;
        }

        function updateStudentStats() {
            const students = getStudents();
            document.querySelector('.stat-card:nth-child(3) .number').textContent = students.length;
        }

        function updateAllStats() {
            updateCourseStats();
            updateSubjectStats();
            updateStudentStats();
        }

        // Profile functions
        function loadAdminProfile() {
            const adminData = JSON.parse(localStorage.getItem('adminProfile')) || {
                firstName: "Admin",
                lastName: "User",
                email: "admin@schoolsystem.com",
                phone: "+1 (555) 123-4567",
                address: "123 Admin Street, Admin City, 10001",
                country: "US",
                city: "New York"
            };
            
            // Populate form
            document.getElementById('adminFirstName').value = adminData.firstName;
            document.getElementById('adminLastName').value = adminData.lastName;
            document.getElementById('adminEmailInput').value = adminData.email;
            document.getElementById('adminPhone').value = adminData.phone;
            document.getElementById('adminAddress').value = adminData.address;
            document.getElementById('adminCountry').value = adminData.country;
            document.getElementById('adminCity').value = adminData.city;
            
            // Update displayed info
            document.getElementById('adminName').textContent = `${adminData.firstName} ${adminData.lastName}`;
            document.getElementById('adminEmail').textContent = adminData.email;
            
            // Load profile image
            const savedImage = localStorage.getItem('adminProfileImage');
            if (savedImage) {
                document.getElementById('adminProfileImage').src = savedImage;
                document.getElementById('headerAdminImage').src = savedImage;
            }
        }

        function resetProfileForm() {
            loadAdminProfile();
            showNotification('Changes discarded.', 'info');
        }

        // Utility functions
        function showSection(sectionId) {
            // Hide all sections
            const sections = document.querySelectorAll('.main-content > div[id$="-section"]');
            sections.forEach(section => {
                section.style.display = 'none';
            });
            
            // Show selected section
            document.getElementById(sectionId).style.display = 'block';
            
            // Update active menu item
            const menuItems = document.querySelectorAll('.sidebar-menu a');
            menuItems.forEach(item => {
                item.classList.remove('active');
            });
            
            // Find and activate the corresponding menu item
            const menuText = sectionId.replace('-section', '').replace('-', ' ');
            menuItems.forEach(item => {
                if (item.textContent.trim().toLowerCase().includes(menuText)) {
                    item.classList.add('active');
                }
            });
            
            // If showing dashboard, ensure Dashboard menu is active
            if (sectionId === 'dashboard-section') {
                document.querySelector('.sidebar-menu a:first-child').classList.add('active');
                updateAllStats();
            }
            
            // Special handling for specific sections
            if (sectionId === 'subject-section') {
                updateCourseDropdowns();
            } else if (sectionId === 'register-section') {
                updateCourseDropdowns();
                updateSubjectCheckboxes();
            } else if (sectionId === 'view-students-section') {
                renderStudentsTable();
            } else if (sectionId === 'profile-section') {
                loadAdminProfile();
            }
            
            // Scroll to top
            window.scrollTo(0, 0);
        }

        function logout() {
            // Show login page and hide dashboard
            loginPage.style.display = 'flex';
            dashboard.style.display = 'none';
            showNotification('Logged out successfully!', 'success');
        }

        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                ${message}
                <button onclick="this.parentElement.remove()">Ã—</button>
            `;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Initialize dashboard after login
        function onLoginSuccess() {
            updateCourseDropdowns();
            updateSubjectCheckboxes();
            renderStudentsTable();
            updateAllStats();
            loadAdminProfile();
        }
    </script>
</body>
</html>